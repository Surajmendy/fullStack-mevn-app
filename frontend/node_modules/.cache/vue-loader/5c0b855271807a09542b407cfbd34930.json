{"remainingRequest":"/Users/abdulsuraj/Desktop/lord99/fullstack-javascript-application-mevn/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/abdulsuraj/Desktop/lord99/fullstack-javascript-application-mevn/frontend/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/abdulsuraj/Desktop/lord99/fullstack-javascript-application-mevn/frontend/src/App.vue","mtime":1631133998990},{"path":"/Users/abdulsuraj/Desktop/lord99/fullstack-javascript-application-mevn/frontend/node_modules/css-loader/dist/cjs.js","mtime":1626540323709},{"path":"/Users/abdulsuraj/Desktop/lord99/fullstack-javascript-application-mevn/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1626540324179},{"path":"/Users/abdulsuraj/Desktop/lord99/fullstack-javascript-application-mevn/frontend/node_modules/postcss-loader/src/index.js","mtime":1626540324054},{"path":"/Users/abdulsuraj/Desktop/lord99/fullstack-javascript-application-mevn/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1626540312004},{"path":"/Users/abdulsuraj/Desktop/lord99/fullstack-javascript-application-mevn/frontend/node_modules/vue-loader/lib/index.js","mtime":1626540324179}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouc3UtYnRuLWRlbGV0ZSB7CiAgY29sb3I6IHJlZDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLnN1LWJ0bi1lZGl0IHsKICBjb2xvcjogYmx1ZTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLnN1LWFkZC1jbGllbnQtZm9ybS1oZWFkZXIgewogIGJhY2tncm91bmQtY29sb3I6ICNkMWU4ZTc7Cn0KLnN1LWRlbGV0ZS1kaWFsb2ctaGVhZGVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDFlOGU3Owp9Ci5zdS1hZGQtY2xpZW50LWZvcm0tdGl0bGUgewogIGNvbG9yOiBibHVlOwogIHRleHQtdHJhbnNmb3JtOiBub25lOwp9Ci5zdS1idG4tYWRkLW5ldy1jbGllbnQgewogIHRleHQtdHJhbnNmb3JtOiBub25lOwogIGNvbG9yOiBibGFjazsKfQouc3UtYnRuLWFkZC1uZXctcHJvdmlkZXIgewogIHRleHQtdHJhbnNmb3JtOiBub25lOwp9Ci5zdS1wcm92aWRlci1yb3cgewogIGhlaWdodDogNDAwcHg7CiAgb3ZlcmZsb3cteTogc2Nyb2xsOwp9Ci5zdS10ZXh0LWJvbGQgewogIGZvbnQtd2VpZ2h0OiBib2xkZXI7CiAgY29sb3I6IGJsYWNrOwp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-app-bar app color=\"#d1e8e7\" dark>\n      <div class=\"d-flex align-center\"></div>\n      <v-spacer></v-spacer>\n    </v-app-bar>\n    <vue-progress-bar></vue-progress-bar>\n    <v-main>\n      <v-container>\n        <v-card class=\"mt-5\">\n          <v-card-title>\n            <v-row>\n              <v-col cols=\"12\" xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\"> </v-col>\n              <v-col cols=\"12\" xs=\"12\" sm=\"12\" md=\"3\" lg=\"3\"> </v-col>\n              <v-col cols=\"12\" xs=\"12\" sm=\"12\" md=\"3\" lg=\"3\">\n                  <!--search field -->\n                <v-text-field\n                  v-model=\"search\"\n                  prepend-inner-icon=\"mdi-magnify\"\n                  label=\"Search\"\n                  outlined\n                  hide-details\n                  dense\n                ></v-text-field>\n                  <!--search field -->\n              </v-col>\n            </v-row>\n          </v-card-title>\n            <!--start table -->\n          <v-data-table\n            :headers=\"headers\"\n            :search=\"search\"\n            :items=\"allClients\"\n            :items-per-page=\"5\"\n            class=\"elevation-1\"\n          >\n            <template v-slot:top>\n              <v-toolbar flat color=\"#d1e8e7\">\n                <v-toolbar-title class=\"su-add-client-form-title\"\n                  >Clients</v-toolbar-title\n                >\n                <v-divider class=\"mx-4\" inset vertical></v-divider>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"white\"\n                  dark\n                  class=\"mb-2\"\n                  @click=\"showAddClientForm\"\n                >\n                  <span class=\"su-btn-add-new-client\">New Client</span>\n                </v-btn>\n              </v-toolbar>\n            </template>\n            <template v-slot:[`item.providers`]=\"{ item }\">\n              <span v-for=\"(singleItem, i) in item.providers\" :key=\"i\">\n                {{ getProviderName(singleItem) }}\n              </span>\n            </template>\n            <template v-slot:[`item.actions`]=\"{ item }\">\n              <span @click=\"editClient(item)\" class=\"mr-3 su-btn-edit\"\n                >Edit</span\n              >\n              <span class=\"su-btn-delete\" @click=\"confirmDeleteClient(item)\"\n                >Delete</span\n              >\n            </template>\n          </v-data-table>\n            <!--end table -->\n        </v-card>\n      </v-container>\n      <!-- add client dialog-->\n      <v-dialog width=\"800\" v-model=\"showAddClientDialog\">\n        <v-card>\n          <v-toolbar-title></v-toolbar-title>\n          <v-card-title class=\"su-add-client-form-header\">\n            <p style=\"color: blue\">\n              {{ editMode ? \"Edit Client\" : \"New Client\" }}\n            </p>\n          </v-card-title>\n          <v-divider vertical class=\"mx-4\"></v-divider>\n          <v-card-text>\n            <v-form\n              lazy-validation\n              ref=\"new_client_form\"\n              v-model=\"clientFormValid\"\n              @submit.prevent=\"editMode ? updateClient() : addNewClient()\"\n              class=\"pl-md-15\"\n            >\n              <v-row no-gutters>\n                <v-col md=\"2\" sm=\"6\" lg=\"2\">\n                  <p class=\"su-text-bold\">Name:</p>\n                </v-col>\n                <v-col md=\"8\" sm=\"6\" lg=\"8\">\n                  <v-text-field v-model=\"clientForm.name\" dense outlined>\n                  </v-text-field>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col md=\"2\" sm=\"6\" lg=\"2\">\n                  <p class=\"float-left su-text-bold\">Email:</p>\n                </v-col>\n                <v-col md=\"8\" sm=\"6\" lg=\"8\">\n                  <v-text-field\n                    v-model=\"clientForm.email\"\n                    dense\n                    outlined\n                    type=\"text\"\n                    :rules=\"[required('Email'), validEmail(clientForm.email)]\"\n                  >\n                  </v-text-field>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col md=\"2\" sm=\"6\" lg=\"2\">\n                  <p class=\"float-left su-text-bold\">Phone:</p>\n                </v-col>\n                <v-col md=\"8\" sm=\"6\" lg=\"8\">\n                  <v-text-field\n                    v-model=\"clientForm.phone\"\n                    dense\n                    outlined\n                    type=\"text\"\n                    :rules=\"[phoneNumberFormat(clientForm.phone)]\"\n                  >\n                  </v-text-field>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col md=\"2\" sm=\"6\" lg=\"2\">\n                  <p class=\"float-left su-text-bold\">Providers:</p>\n                </v-col>\n                <v-col md=\"8\" sm=\"6\" lg=\"8\">\n                  <v-row>\n                    <v-col md=\"8\" sm=\"12\" lg=\"8\">\n                      <v-text-field\n                        dense\n                        outlined\n                        v-model=\"providerForm.name\"\n                        ref=\"provider_field\"\n                      >\n                      </v-text-field>\n                    </v-col>\n                    <v-col md=\"4\" sm=\"12\" lg=\"4\">\n                      <v-btn\n                        @click=\"\n                          editModeProvider ? updateProvider() : addNewProvider()\n                        \"\n                        ><span class=\"su-btn-add-new-provider\">{{\n                          editModeProvider ? \"Update Provider\" : \"Add Provider\"\n                        }}</span></v-btn\n                      >\n                    </v-col>\n                  </v-row>\n                  <!-- start provider container -->\n                  <v-row class=\"mb-4\">\n                    <v-col md=\"8\" class=\"pr-0\">\n                      <v-card class=\"align-content-center\" tile>\n                        <v-card-text>\n                          <v-row\n                            v-for=\"(singleProvider, i) in allProviders\"\n                            :key=\"i\"\n                            align=\"center\"\n                            no-gutters\n                          >\n                            <v-col class=\"pl-5 pr-5\">\n                              <v-checkbox\n                                v-model=\"clientForm.providers\"\n                                :label=\"singleProvider.name\"\n                                :value=\"singleProvider.id\"\n                              ></v-checkbox>\n                            </v-col>\n                            <v-row>\n                              <v-icon\n                                style=\"cursor: pointer\"\n                                @click=\"editProvider(singleProvider)\"\n                                >mdi-square-edit-outline</v-icon\n                              >\n                              <v-icon\n                                style=\"cursor: pointer\"\n                                @click=\"deleteProvider(singleProvider)\"\n                                >mdi-delete</v-icon\n                              >\n                            </v-row>\n                          </v-row>\n                        </v-card-text>\n                      </v-card>\n                    </v-col>\n                  </v-row>\n                </v-col>\n              </v-row>\n              <!-- end provider container -->\n              <v-divider></v-divider>\n              <v-card-actions>\n                <v-btn\n                  style=\"text-transform: none\"\n                  color=\"red\"\n                  v-show=\"editMode\"\n                  id=\"btnDeleteClient\"\n                  @click=\"deleteClient\"\n                  ><span style=\"color: #fff\">Delete Client</span></v-btn\n                >\n                <v-spacer></v-spacer>\n                <v-btn\n                  class=\"text-capitalize pr-4 pl-5\"\n                  id=\"btnCancel\"\n                  @click=\"closeClientDialog\"\n                  >Cancel</v-btn\n                >\n                <v-btn\n                  class=\"text-capitalize pr-4 pl-5\"\n                  id=\"btnAddClient\"\n                  type=\"submit\"\n                  >{{ editMode ? \"Save Client\" : \"Add Client\" }}</v-btn\n                >\n              </v-card-actions>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n      <!-- add client dialog-->\n      <!-- snackbar start -->\n      <v-snackbar v-model=\"snackbar\" :color=\"snackbarColor\" top right>\n        <span style=\"color: blue\">{{ this.notification }}</span>\n        <template v-slot:action=\"{ attrs }\">\n          <v-btn dark text v-bind=\"attrs\" @click=\"snackbar = false\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </template>\n      </v-snackbar>\n\n      <!-- Snack bar end-->\n\n      <!-- start delete confirmation -->\n      <v-dialog v-model=\"deleteDialog\" width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline su-delete-dialog-header\">\n            Delete Client\n          </v-card-title>\n\n          <v-card-text class=\"pt-10 text-center\">\n            Are you sure you want to delete {{ selectedClientData.name }}\n          </v-card-text>\n\n          <v-divider></v-divider>\n\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"deleteDialog = false\">\n              Cancel\n            </v-btn>\n            <v-btn color=\"primary\" text @click=\"deleteClient\"> Confirm </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <!-- delete confirmation -->\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport validation from \"./services/validation\";\nimport Api from \"./services/api\";\nexport default {\n  name: \"App\",\n\n  components: {},\n  data() {\n    return {\n      ...validation,\n      // client form to backend\n      // eslint-disable-next-line no-undef\n      clientForm: new Form({\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        providers: [],\n      }),\n      // eslint-disable-next-line no-undef\n      providerForm: new Form({\n        name: \"\",\n      }),\n      search: \"\",\n      clientFormValid: false,\n      selectedProviders: [],\n      showAddClientDialog: false,\n      editMode: false,\n      selectedClientData: {},\n      deleteDialog: false,\n      selectedProvider: \"\",\n      editModeProvider: false,\n      headers: [\n        {\n          text: \"Name\",\n          align: \"start\",\n          value: \"name\",\n        },\n        { text: \"Email\", value: \"email\" },\n        { text: \"Phone\", value: \"phone\", sortable: false },\n        { text: \"Providers\", value: \"providers\", sortable: false },\n        { text: \"Action\", value: \"actions\", sortable: false },\n      ],\n      snackbar: false,\n      notification: \"test\",\n      snackbarColor: \"#d1e8e7\",\n    };\n  },\n  computed: {\n    allClients: {\n      get() {\n        return this.$store.state.allClients;\n      },\n    },\n    allProviders: {\n      get() {\n        return this.$store.state.allProviders;\n      },\n    },\n  },\n  created() {\n    this.fetchAllClient();\n    this.fetchAllProviders();\n  },\n  methods: {\n    getProviderName(id) {\n      let name = \"\";\n      //map through provider array and get corresponding name\n      this.allProviders.map((e) => {\n        if (e.id === id) {\n          name = e.name;\n        }\n      });\n      return name;\n    },\n    confirmDeleteClient(item) {\n      this.selectedClientData = item;\n      this.deleteDialog = true;\n    },\n    showAddClientForm() {\n      this.editMode = false;\n\n      this.showAddClientDialog = true;\n    },\n    closeClientDialog() {\n      this.showAddClientDialog = false;\n      this.editMode = false;\n      this.editModeProvider = false;\n      this.$refs.new_client_form.reset();\n    },\n    editClient(item) {\n      this.selectedClientData = item;\n      this.editMode = true;\n      this.showAddClientDialog = true;\n      this.clientForm.fill(item);\n    },\n    fetchAllClient() {\n      this.$store.dispatch(\"getAllClients\");\n    },\n    fetchAllProviders() {\n      this.$store.dispatch(\"getAllProviders\");\n    },\n    addNewClient() {\n      // return if form isnt validated\n      if (!this.$refs.new_client_form.validate()) return;\n      this.$Progress.start();\n      Api()\n        .post(\"client/create\", this.clientForm)\n        .then((response) => {\n          if (response.status === 200) {\n            this.fetchAllClient();\n            this.snackbar = true;\n            this.snackbarColor = \"#d1e8e7\";\n            this.showAddClientDialog = false;\n            this.notification = \"Client added successfully\";\n            this.$Progress.finish();\n            this.$refs.new_client_form.reset();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.snackbar = true;\n          this.snackbarColor = \"red\";\n          this.notification = \"Something went wrong! Please try again \";\n          this.$Progress.fail();\n          this.$refs.new_client_form.reset();\n        });\n    },\n    updateClient() {\n      // return if form isnt validated\n      if (!this.$refs.new_client_form.validate()) return;\n      this.$Progress.start();\n      Api()\n        .put(\n          \"client/update/\" + this.selectedClientData.id,\n          this.clientForm\n        )\n        .then((response) => {\n          if (response.status === 200) {\n            this.fetchAllClient();\n            this.snackbar = true;\n            this.showAddClientDialog = false;\n            this.snackbarColor = \"#d1e8e7\";\n            this.$refs.new_client_form.reset();\n            this.notification = \"Client updated successfully\";\n            this.$Progress.finish();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.snackbar = true;\n          this.snackbarColor = \"red\";\n          this.notification = \"Something went wrong! Please try again \";\n          this.$Progress.fail();\n        });\n    },\n    deleteClient() {\n      // return if form isnt validated\n      this.$Progress.start();\n      Api()\n        .delete(\"client/delete/\" + this.selectedClientData.id)\n        .then((response) => {\n          if (response.status === 200) {\n            this.fetchAllClient();\n            this.snackbar = true;\n            this.deleteDialog = false;\n            this.showAddClientDialog = false;\n            this.snackbarColor = \"#d1e8e7\";\n            this.notification = \"Client deleted successfully\";\n            this.$Progress.finish();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.snackbar = true;\n          this.snackbarColor = \"red\";\n          this.notification = \"Something went wrong! Please try again \";\n          this.$Progress.fail();\n        });\n    },\n    addNewProvider() {\n      this.$Progress.start();\n      Api()\n        .post(\"provider/create\", this.providerForm)\n        .then((response) => {\n          console.log(response.status);\n          if (response.status === 200) {\n            this.fetchAllProviders();\n            this.snackbar = true;\n            this.snackbarColor = \"#d1e8e7\";\n            this.notification = \"Provider added successfully\";\n            this.$Progress.finish();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.snackbar = true;\n          this.snackbarColor = \"red\";\n          this.notification = error.message;\n          this.$Progress.fail();\n        });\n    },\n    updateProvider() {\n      this.$Progress.start();\n      Api()\n        .put(\n          \"provider/update/\" + this.selectedProvider.id,\n          this.providerForm\n        )\n        .then((response) => {\n          if (response.status === 200) {\n            this.fetchAllProviders();\n            this.snackbar = true;\n            this.snackbarColor = \"#d1e8e7\";\n            this.notification = \"provider updated successfully\";\n            this.$Progress.finish();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.snackbar = true;\n          this.snackbarColor = \"red\";\n          this.notification = \"Something went wrong! Please try again \";\n          this.$Progress.fail();\n        });\n    },\n    deleteProvider(singleProvider) {\n      this.$Progress.start();\n      Api()\n        .delete(\"provider/delete-provider/\" + singleProvider.id)\n        .then((response) => {\n          if (response.status === 200) {\n            this.fetchAllProviders();\n            this.snackbar = true;\n            this.providerForm.reset();\n            this.snackbarColor = \"#d1e8e7\";\n            this.notification = \"Provider deleted successfully\";\n            this.$Progress.finish();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.snackbar = true;\n          this.snackbarColor = \"red\";\n          this.notification = \"Something went wrong! Please try again \";\n          this.$Progress.fail();\n        });\n    },\n    editProvider(singleProvider) {\n      this.selectedProvider = singleProvider;\n      this.editModeProvider = true;\n      this.providerForm.fill(singleProvider);\n    },\n  },\n};\n</script>\n<style>\n.su-btn-delete {\n  color: red;\n  cursor: pointer;\n}\n.su-btn-edit {\n  color: blue;\n  cursor: pointer;\n}\n.su-add-client-form-header {\n  background-color: #d1e8e7;\n}\n.su-delete-dialog-header {\n  background-color: #d1e8e7;\n}\n.su-add-client-form-title {\n  color: blue;\n  text-transform: none;\n}\n.su-btn-add-new-client {\n  text-transform: none;\n  color: black;\n}\n.su-btn-add-new-provider {\n  text-transform: none;\n}\n.su-provider-row {\n  height: 400px;\n  overflow-y: scroll;\n}\n.su-text-bold {\n  font-weight: bolder;\n  color: black;\n}\n</style>\n"]}]}